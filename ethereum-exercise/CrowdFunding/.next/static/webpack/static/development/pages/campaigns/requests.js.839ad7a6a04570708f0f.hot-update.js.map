{"version":3,"file":"static/webpack/static/development/pages/campaigns/requests.js.839ad7a6a04570708f0f.hot-update.js","sources":["webpack:///./components/RequestRow.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Table, Button } from 'semantic-ui-react';\nimport web3 from '../contracts/web3';\nimport Campaign from '../contracts/campaign';\n\nclass RequestRow extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: false\n        };\n    }\n\n    onApprove = async () => {\n        this.setState({loading : true});\n        const campaign = Campaign(this.props.address);\n        const accounts = await web3.eth.getAccounts();\n        await campaign.methods.approveRequest(this.props.id).send({\n            from : accounts[0]\n        });\n        this.setState({loading : false});\n    };\n\n    onFinalize = async () => {\n        this.setState({loading : true});\n\n        const campaign = Campaign(this.props.address);\n        const accounts = await web3.eth.getAccounts();\n        await campaign.methods.finalizeRequest(this.props.id).send({\n            from : accounts[0]\n        });\n\n        this.setState({loading : false});\n    };\n\n    render() {\n\n        const { Row, Cell } = Table;\n        console.log(this.props);\n        return (\n            <Row>\n                <Cell>{this.props.id + 1}</Cell>\n                <Cell>{this.props.request.description}</Cell>\n                <Cell>{web3.utils.fromWei(this.props.request.value,'ether')} ETH</Cell>\n                <Cell>{this.props.request.recipient}</Cell>\n                <Cell>{this.props.request.approvalCount} / {this.props.approversCount}</Cell>\n                <Cell>\n                    {this.props.request.complete ? null : (\n                        <Button color=\"green\" basic onClick={this.onApprove}>승인</Button>\n                    )}\n                </Cell>\n                <Cell>\n                    <Button color=\"red\" basic onClick={this.onFinalize}>출금하기</Button>\n                </Cell>\n            </Row>\n        );\n    }\n}\n\nexport default RequestRow;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AAKA;AADA;AACA;AALA;AAOA;AAAA;AAAA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAiBA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAHA;AAAA;AACA;AADA;AAIA;AAJA;AAAA;AAMA;AADA;AACA;AANA;AASA;AAAA;AAAA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAhBA;AACA;AADA;AAFA;AAKA;AACA;;;AAuBA;AAAA;AAAA;AAGA;AACA;AASA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAIA;;;;AApDA;AACA;AAsDA;;;;A","sourceRoot":""}